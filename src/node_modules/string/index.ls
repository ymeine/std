require! {
# ---------------------------------------------------------------------- Own STD
	'packager'
	'number'
}



/** Capitalizes the first letter of the word, leaving the rest as is */
capitalize = (string) ->
	if not string? => throw {msg: 'No value given'}

	if string.length > 0 => string.0.toUpperCase! + string.slice(1) else ''

/** Splits a string on capital letters, keeping them */
getCamelCaseParts = (string) ->
	if not string? => throw {msg: 'No value given'}

	allParts = string.split /([A-Z])/g

	splitParts = allParts[1 to]
	joinedParts = [[part, splitParts[index + 1]].join '' for part, index in splitParts by 2]

	if allParts.0.length > 0 => [allParts.0] ++ joinedParts
	else joinedParts


escape = (input, chars, char = '\\') ->
	if not input? => throw {msg: 'No input given'}

	re = new RegExp "[#{["\\#{..}" for chars] * ''}]" \g
	input.replace re, "#{char}$&"



surround = (str, input) -->
	if not str? => throw {msg: 'No string given'}
	if not input? => throw {msg: 'No input given'}

	"#str#input#str"

wrap = (str, input) -->
	if not str? => throw {msg: 'No string given'}
	if not input? => throw {msg: 'No input given'}

	"#str#input#{str.reverse!}"

replace = (str, start, content) ->
	(str.substring 0, start) + content + (str.substring start + content.length, str.length)





packager.export {
	module
	values: [
		{
			value: capitalize
			names: <[
				capitalize
			]>
		}
		{
			value: getCamelCaseParts
			names: <[
				getCamelCaseParts
				camelCaseParts
				camelcaseparts
				camelCase
				camelcase
			]>
		}
		{
			value: escape
			names: <[
				escape
			]>
		}
		{
			value: surround
			names: <[
				surround
			]>
		}
	]
}
