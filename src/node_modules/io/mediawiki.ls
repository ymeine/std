require! {
	'./renderer'
}

{Renderer} = renderer



class MediaWiki extends Renderer
	~> @ <<< {
		emphaseChar: '\''
		italicX: 2
		boldX: 3
	}

	section: (title, level = 1) ->
		marks = '=' * level
		"#marks #title #marks"

	escapeUrl: (url) ->
		url .= replace /\ /g '%20'
		url .= replace /\=/g '%3D'
		url .= replace /\[/g '%5B'
		url .= replace /\]/g '%5D'
		url

	url: (url, text = url) ->
		url = @escapeUrl url
		"[#url #text]"

	/**
	 * Internal MediaWiki link
	 *
	 * @todo Handle category links, either automatically adding the prefix, or on the counterpart removing it from the label. Discuss about it.
	 */
	link: (page, text = page) ->
		"[[#page|#text]]"

	list-item: (item, level = 1) ->
		prefix = '*' * level
		"#prefix #item"





export MediaWiki
